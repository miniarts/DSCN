!function(n,e){var a=e.app||{},t={init:function(){"use strict";return n(document).ready(function(){t.wechatSocial(),t.burgerIcon(),t.setDrawer()}),n(e).on("load",function(){t.onDemandNav()}),!1},wechatQR:function(e){n(e).hasClass("qr-on")?(n(e).removeClass("qr-on"),n(e).children(".wechatQR").remove()):(n(e).addClass("qr-on"),n(e).append("<div class='wechatQR'><img src='/images/system/wechat-qr-V2.png'></div>").fadeIn())},wechatSocial:function(){var e=n("#socialicons .foundicon-torso").parent("a");n(e).on("click",function(n){n.preventDefault(),t.wechatQR(this)})},burgerIcon:function(){var e=n("#mob-navbar-btn"),a=n(".t3-wrapper");e.on("click",function(){a.hasClass("mobnav-closed")?(a.removeClass("mobnav-closed"),a.addClass("mobnav-open")):(a.addClass("mobnav-closed"),a.removeClass("mobnav-open"))})},transitionDelay:function(e,a){var t="string"==typeof document.documentElement.style.transition?"transition":"WebkitTransition";n.each(e,function(){n(this).css(t+"Delay",i*a+"ms")})},setDrawer:function(){var a=n("#mob-navbar .navbar-inner .navbar-nav > li"),o=(n(".navbar-inner").height()-110)/a.length,i=function(){n.each(a,function(){n(this).css("line-height",o+"px")})};t.transitionDelay(a,25),i(),n(e).on("orientationchange",i),n(e).resize(i)},scrollToTop:function(){n("#back-to-top").click(function(e){e.preventDefault(),n("html, body").animate({scrollTop:0},500)})},onDemandNav:function(){var a=!1,t=0,o=!0,i=n(document),r=n(e),s=n("body"),c=0,l=0,d=0,h=0,u=/MSIE (\d+\.\d+);/.test(navigator.userAgent),v=!!navigator.userAgent.match(/Trident\/7.0/),m=navigator.userAgent.indexOf("rv:11.0");u&&(h=new Number(RegExp.$1)),-1!=navigator.appVersion.indexOf("MSIE 10")&&(h=10),v&&-1!=m&&(h=11),n("html").hasClass("view-article")&&1==n(".content-main .page-header").length&&(c=1,l=n(".content-main").height(),d=n(".content-main .page-header").outerHeight());var p=function(){if(n(".t3-wrapper").hasClass("mobnav-open"))return!1;var e=i.scrollTop();if(!0===o||e<=100)return o=!1,s.removeClass("headerHide"),s.removeClass("scrolled"),n(".content-main .page-header").css({opacity:"1"}),!1;r.width()>991&&s.addClass("scrolled"),1==c&&(n(".content-main .page-header").offset().top+d>l?n(".content-main .page-header").css({opacity:"0"}):n(".content-main .page-header").css({opacity:"1"})),e<t?a&&(s.removeClass("headerHide"),a=!1):a||(s.addClass("headerHide"),a=!0),t=e};"undefined"!=typeof InstallTrigger||11==h?n(e).on("scroll",function(){p()}):n(e).scroll(p)}};t.cache=a.cache||{},t.init(n),e.app=n.extend(a,t)}(jQuery,window);